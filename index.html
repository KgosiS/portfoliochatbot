<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<title>Kgosi Sebako • CV Chatbot</title>

<!-- Link sharing meta tags -->
<meta property="og:title" content="Kgosi Sebako • CV Chatbot">
<meta property="og:description" content="Chat with Kgosi Sebako’s CV chatbot! Ask about skills, projects, education, and achievements.">
<meta property="og:image" content="https://i.postimg.cc/nz8tMc9Z/628a4b0d-d1c4-487d-8ac8-22a03878b9e0.jpg">

<style>
body { margin:0; font-family:Arial,sans-serif; background:#ece5dd; display:flex; flex-direction:column; height:100vh; }
.header { background:#075E54; color:white; padding:12px 15px; display:flex; align-items:center; gap:12px; cursor:pointer; }
.header img { width:38px; height:38px; border-radius:50%; }
.header .title { font-size:17px; font-weight:bold; }
.messages { flex:1; overflow-y:auto; padding:15px; display:flex; flex-direction:column; gap:10px; }
.message { max-width:75%; padding:10px 13px; border-radius:8px; font-size:14px; word-wrap:break-word; }
.user { background:#dcf8c6; align-self:flex-end; border-top-right-radius:0; }
.bot { background:#fff; align-self:flex-start; border-top-left-radius:0; }
.bottom { padding:8px; background:#f0f0f0; display:flex; gap:8px; border-top:1px solid #ccc; position:sticky; bottom:0; }
.bottom input { flex:1; padding:12px; border-radius:20px; border:1px solid #ccc; font-size:15px; }
.bottom button { width:45px; height:45px; border-radius:50%; border:none; background:#25D366; color:#fff; font-size:20px; }

/* PROFILE POPUP */
#profilePopup { 
  display:none; 
  position:fixed; 
  top:50%; left:50%; 
  transform:translate(-50%, -50%); 
  background:#fff; 
  padding:20px; 
  border-radius:10px; 
  box-shadow:0 4px 12px rgba(0,0,0,0.2); 
  width:90%; 
  max-width:350px; 
  z-index:1000;
  text-align:center;
}
#profilePopup img { width:100px; height:100px; border-radius:50%; margin-bottom:10px; object-fit:cover; }
#profilePopup h2 { margin:10px 0 5px; font-size:20px; color:#075E54; }
#profilePopup p { font-size:14px; margin:5px 0; }
#profilePopup .links { display:flex; gap:10px; justify-content:center; margin-top:10px; flex-wrap:wrap; }
#profilePopup .links a { 
  text-decoration:none; 
  color:#fff; 
  padding:8px 12px; 
  border-radius:5px; 
  font-size:14px; 
  display:flex; 
  align-items:center; 
  gap:5px; 
}
#profilePopup svg { width:18px; height:18px; fill:#fff; }

.whatsapp { background:#25D366; }
.github { background:#333; }
.linkedin { background:#0077b5; }
.call { background:#0cb000; }
.email { background:#d44638; }

.closeBtn { margin-top:15px; display:block; text-align:center; cursor:pointer; color:#075E54; font-weight:bold; }
</style>
</head>
<body>

<div class="header" onclick="toggleProfile()">
  <img src="https://i.postimg.cc/nz8tMc9Z/628a4b0d-d1c4-487d-8ac8-22a03878b9e0.jpg" alt="Kgosi Sebako">
  <div class="title">Kgosi Sebako's Portfolio</div>
</div>

<div class="messages" id="messages"></div>

<div class="bottom">
  <input id="input" type="text" placeholder="Ask something…" onkeydown="if(event.key==='Enter'){sendMessage();}">
  <button onclick="sendMessage()">➤</button>
</div>

<!-- PROFILE POPUP -->
<div id="profilePopup">
  <img src="https://i.postimg.cc/nz8tMc9Z/628a4b0d-d1c4-487d-8ac8-22a03878b9e0.jpg">
  <h2>Kgosi Sebako</h2>
  <p><strong>Location:</strong> Pretoria, Gauteng</p>
  <p><strong>Education:</strong> Diploma IT – IIE Rosebank College</p>
  <p><strong>Skills:</strong> Java, Kotlin, Android, Node.js, Firebase, MySQL, HTML, CSS, JS</p>
  <p><strong>Achievements:</strong> IIERC Hackathon 2024 (3rd), MTN/FNB App of the Year finalist</p>

  <div class="links">

    <!-- WhatsApp -->
    <a class="whatsapp" href="https://wa.me/2774986080" target="_blank">
      <svg><path d="M16.7 13.3c-.3-.2-1.7-.9-2-1s-.5-.2-.7.2-.8 1-1 1.2-.4.3-.7.1-1.3-.5-2.4-1.6-1.6-2.1-1.8-2.4-.02-.5.15-.7c.15-.15.3-.4.45-.6.15-.2.2-.3.3-.5s.05-.4-.02-.6c-.05-.2-.7-1.7-.9-2.3-.25-.6-.5-.5-.7-.5h-.6c-.2 0-.6.1-.9.4-.3.3-1.1 1-1.1 2.5s1.1 2.9 1.2 3.1c.15.2 2.2 3.4 5.3 4.8.74.32 1.32.51 1.77.65.74.23 1.42.2 1.95.12.6-.1 1.7-.7 1.9-1.4.25-.7.25-1.3.17-1.4-.08-.1-.28-.2-.58-.4z"/></svg>
      WhatsApp
    </a>

    <!-- GitHub -->
    <a class="github" href="https://github.com/KgosiS" target="_blank">
      <svg><path d="M12 .3a12 12 0 0 0-3.8 23.4c.6.1.8-.3.8-.6v-2c-3.3.7-4-1.6-4-1.6a3.2 3.2 0 0 0-1.3-1.7c-1-.7.1-.7.1-.7a2.6 2.6 0 0 1 2 1.4 2.7 2.7 0 0 0 3.7 1 2.7 2.7 0 0 1 .8-1.7c-2.6-.3-5.3-1.3-5.3-5.8a4.6 4.6 0 0 1 1.2-3.3 4.3 4.3 0 0 1 .1-3.2s1-.3 3.4 1.2a11.8 11.8 0 0 1 6.2 0C17 5 18 5.3 18 5.3a4.3 4.3 0 0 1 .1 3.2 4.6 4.6 0 0 1 1.2 3.3c0 4.5-2.7 5.5-5.3 5.8a3 3 0 0 1 .9 2.3v3.4c0 .3.2.7.8.6A12 12 0 0 0 12 .3"/></svg>
      GitHub
    </a>

    <!-- LinkedIn -->
    <a class="linkedin" href="https://www.linkedin.com/in/kgosi-sebako-566a43231" target="_blank">
      <svg><path d="M4.98 3.5a2.5 2.5 0 11.02 5 2.5 2.5 0 01-.02-5M2 8.98h6v14H2v-14zm9 0h5.6v2h.1c.8-1.5 2.7-3 5.6-3 6 0 7 4 7 9.2v8.8h-6v-8c0-1.9 0-4.3-2.7-4.3-2.7 0-3.1 2.1-3.1 4.2v8.1h-6v-17z"/></svg>
      LinkedIn
    </a>

    <!-- CALL -->
    <a class="call" href="tel:+2774986080">
      <svg><path d="M6.6 2.1l2.3-.5c.5-.1 1 .2 1.2.7l1.1 2.6c.2.5.1 1-.3 1.4L9.6 8.3c1 2.1 2.8 3.9 4.9 4.9l1.9-1.4c.4-.3.9-.4 1.4-.3l2.6 1.1c.5.2.8.7.7 1.2l-.5 2.3c-.1.5-.6.9-1.1 1-3.5.4-7-1-10.1-4.1C4.7 10.2 3.3 6.7 3.7 3.2c.1-.6.5-1 1-1.1z"/></svg>
      Call
    </a>

    <!-- EMAIL -->
    <a class="email" href="mailto:sebakokgosi@gmail.com?subject=Contact%20from%20Portfolio">
      <svg><path d="M20 4H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h16a2 2 0 002-2V6a2 2 0 00-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
      Email
    </a>

  </div>

  <span class="closeBtn" onclick="toggleProfile()">Close</span>
</div>

<script>
const messagesEl = document.getElementById("messages");

// AUTO FIRST MESSAGE
window.onload = () => {
  addMessage("Hola! I’m Kgosi’s CV Chatbot.\nAsk me anything about his skills, experience or projects!", "bot");
};

// ADD MESSAGE
function addMessage(text, type){
  const div = document.createElement("div");
  div.className = "message " + type;
  div.innerHTML = text;
  messagesEl.appendChild(div);
  messagesEl.scrollTop = messagesEl.scrollHeight;
}

// SEND MESSAGE
async function sendMessage(){
  const input = document.getElementById("input");
  const question = input.value.trim();
  if(!question) return;

  addMessage(question, "user");
  input.value = "";

  let loading = document.createElement("div");
  loading.className="message bot";
  loading.innerHTML="Typing…";
  messagesEl.appendChild(loading);
  messagesEl.scrollTop = messagesEl.scrollHeight;

  try {
    const res = await fetch("https://kgosi-chatbot.onrender.com/api/chat", {
      method:"POST",
      headers:{"Content-Type":"application/json"},
      mode:"cors",
      body:JSON.stringify({ question })
    });

    const data = await res.json();
    loading.remove();
    addMessage(data.answer || "I couldn't respond.", "bot");

  } catch(e){
    loading.remove();
    addMessage("Network error. Try again.", "bot");
  }
}

// PROFILE POPUP
function toggleProfile(){
  const popup = document.getElementById("profilePopup");
  popup.style.display = popup.style.display === "block" ? "none" : "block";
}
</script>

</body>
</html>
